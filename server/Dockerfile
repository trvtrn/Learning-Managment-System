FROM node:latest

WORKDIR /app

COPY package.json .

COPY . . 

ENV WS_PROTOCOL=ws
ENV HTTP_PROTOCOL=http
ENV DOMAIN=localhost
ENV CLIENT_PORT=3000
ENV SERVER_PORT=5001
ENV PEER_SERVER_PORT=9000
ENV JWT_TOKEN_KEY=SRJTN260623
ENV BCRYPT_SALT=10
ENV EMAIL_HOST=smtp.forwardemail.net
ENV EMAIL_USERNAME=hello@toodlesunsw.xyz
ENV EMAIL_PORT=465
ENV EMAIL_PASSWORD=789df6426127708645301f05
ENV FROM_EMAIL=hello@toodlesunsw.xyz
ENV OPENAI_API_KEY=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

RUN npm install

EXPOSE 5001 9000

CMD [ "npm", "run", "start" ]